attribute表示一个对象特有的属性，如id，class

property表示一些附加的自定义的属性，如childNodes，lastChild等



假设一个dom对象dom=document.createElement('input')

- 如果是标准的attribute，会转化为property添加到dom对象

![微信截图_20190930101836](D:\mine-codes\notes\images\微信截图_20190930101836.png)

如上图，给i设置了id或者setAttribute("id")，attr和prop都能互相转化和对应

但是也只有id会这样转换，如class会转换为className

![微信截图_20190930102154](D:\mine-codes\notes\images\微信截图_20190930102154.png)

- 如果是自定义的attr，则不会映射到prop去，两者没有关系

![](D:\mine-codes\notes\images\微信截图_201909301036122.png)





> 一些特殊的 `attribute`，比如 `checked/disabled` 等，只要出现了，对应的 `property` 就会被初始化为 `true`，无论设置的值是什么,只有调用 `removeAttribute` 删除这个 `attribute`，对应的 `property` 才会变成 `false`。

这就指引我们有些属性不能通过 `setAttribute` 设置，而是应该直接通过 DOM 元素设置：`el.checked = true`。好在这样的属性不多，我们可以列举出来：`value`、`checked`、`selected`、`muted`。除此之外还有一些属性也需要使用 `Property` 的方式设置到 DOM 元素上，例如 `innerHTML` 和 `textContent` 等等。

![](D:\mine-codes\notes\images\微信截图_20190930103201.png)

另外以value为例，如果没有直接以dom.value赋值，而是dom.setAttrbute("value",)，那么attr的value和prop的value是对应的，当setAttbute改变value的时候，dom.value也同样变化。

![](D:\mine-codes\notes\images\微信截图_20190930102819.png)

而一旦以prop的方式设置了值，attr就不会映射到prop去。

![](D:\mine-codes\notes\images\微信截图_20190930102941.png)



## 存取数据结构差异

### Attribute取值

DOM对象的attributes属性会返回一个`NamedNodeMap`类数组，存储着都是Attr类型的成员，它们包含着DOM对象的所有特性信息（包括自定义的）。为了方便操作，js提供了`setAttribute`和`getAttribute`的接口供大家操作Attribute。

![Attribute取值](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASEAAABgCAIAAADdDFMxAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAPLElEQVR4nO3df1AUV54A8MevMI0MZmY0syP4YxghcvyoA0FOI2htWQWWRMvhqHP9cblK1pSu8RZiyujdSl1FiHG8S6LGZXMeVVuLIisLW8GkxE3Wc9zAgAhE0DNON/IjoIJONzDYzThA3x8v6TTDrxmYdgby/ZR/QPP6vdfjfPt1v+rXX8SPxjDM1atXr1+/brfb+UnRNH3y5EmKomiaPnHiRFFREc/zly9fvnz5Ms/zLMsWFhZSFMWybEFBQX19Pc/zRUVFJ06coGmaoqiTJ0/SNO1QJ0VRhYWFLMs6NFRQUCAUHtsErhlvFNTX1xcUFLAsS1FUfn6+w18BeG780WgvvvhiUlLSkydP/P0d/+RAoVBERkaeO3cuICAgOjraarWOW4wgiFWrVl26dOnSpUvr1q0bGBhACOl0usjIyFOnTuEyr776akJCwth9GYYpLCx8+vQpQujUqVNqtfq1114bt5VNmzYVFhbW1tYihHCxqKioGzduGAwGtVodHR09+bEAIB0fnuc93QcA5jJfT3cAgDkOYgwAaUGMASAt/76+Pk/3AYC5DOY8AJAWXCsCIC2IMQCkBTEGgLQgxgCQlidjrLS0NCcnh+M4D/bBJQzDZGZm4ie2JGUwGCZvZYimmzdt7DdVu1ozwzA5OTkMw8ygd8A1jjHW0NBgsVg80pUZGvd7aTAYMjMzxV+p0tLS0tJScZlpf+0oisrNzXXmHOFSE7h7ycnJwpaeC8Xkvr0jzp2M+k3VHfl5+OcRjiP37e25UCz8VaFQbNu27b333ptFp7bZblSM2Wy2pqam8vLyhw8fPoe2s7KyPvroI4IgJKoff6c3b95sNpvdUqFCoSgrKxN/+92OoqjKysrdu3dPXsxfqYz94nLI6jXTaCI5OVmj0Xz++efT6iBw2agYCwwMzMzMDAoK+uyzzzo6Oibfk2EYg8GQm5ur0+lSU1MpikIIURSVmpqq0+l0Oh0+H1MU9cYbbwincDza4IsunU435bVibW2t7gdCKwaDQdwELvPpp59u375dp9MJA5fZbNZqtStWrDAajULfDh06dOjQIaE2g8GQmJhYUVGRmJio0+kMBgOuMDc3NycnR1xbaWkpbtRhtDx27Ji4mDCcCmPXuE2MPQqssbExPT1doVCIm5AtWxa4KNT3h5NRz4Vik0Zt0qjF14ocSTYkrTRp1Hf0W3/83yWIwEWhsmXLHD5VvV7f3NwMQ9lzMna5C8uyJSUlZ86cIUlyklUxNE3r9fqLFy/yPH/x4sXjx487VHLkyBFcw/Hjx2tqavAu2dnZwkowkiSPHDnisFrMoYnXX39dqERoC//Asmx2djauWdyKAB+CQ6PC7uJWxAV4nq+pqUlJScHtOpQXt0KSZEpKCv5V+ATGPdixTYx7FOIPbUrteUf7qqvwz3aL5e6O7azZzPN8X3VVe97RyfcVf7BAajOa81iyZMmGDRvwD3iLMEDFxMRcu3YNb1y3bh0eScxms0ajcThJu4TjuOrqajwQxcTEVFRUTFSSYRiSJFUqlUKh0Gg0rl4uZmRkLF++HCGUlZWVlZU1UbH169fHxcUhhOLj4wcGBpwcGZw/Ciex974NiooiIiKcLC+TyUJDQ2fYKHCS40JMq9VaUVFhtVozMjKEyHHe2bNnk5OTy8rKOI47duwY3hgXF2c0GhmGqa+v1+v1ztcmk8lCQkLS0tIQQps3b96/fz9CSC6XX7lyBQfAJMxmc0VFhfjrK+l9lMViCQ4Odv7e0smjkMjg4KDValWpVB5p/afGcc6jrKyMZdktW7ZMI8AwrVaLEGpqahLGMYIgtFqtyWQaGBiY/PSJh0HhjqWrq0sul9++fbulpQXPjhAEERsbW15ePu7u4ntIo9FYXFzc0tLS0tJy5coV8SDT2trqsGN/f/8MZ1ONRiM+cKEbZ8+eFfdH3MRER4G3NzY2utp6wIKF7N27QzQ9RNPteUenLG+xWORyuUwmc7UhMA2Ocx5xcXF6vV6j0UyvOr1ef/r0aZ1O98UXX6xfv17YHh8f/8EHH2i1Wnymx9MPaWlp58+fj4mJEYLKQWhoqNVqjYmJwXMDeIIkIyPj4cOHeIt4Xl5oOjMzs7W19d69e8J5Ggd2V1cXQmjDhg14jkSYQVEoFOnp6WlpaeIJibHwFAWeWRH2vXbtGu4eQghfUgrdCA4OFs5TY5uY6Cji4+MrKysnn+XvyM8zadRdn5y+o9/akLSSI0kiIiIoKqouOururh2L9uyd6n8JlZeXx8bGSjejC0bx9A3hZGpqaoSplJ/ObfrYCST3qqmpyc7OnmSqCbiXVz9LFRkZKczdJyYmvvnmm566gXme8Hgo0dMkDMOUlJTk5ubCIPbcwPoxAKTl1eMYAHMAxBgA0oIYA0BaEGMASAtiDABpQYwBIC3virERjjO/tbe7pHjqogDMEuPE2MDAQFtbmzM745cFNDc36/V6/GyRB7W/n9fn+tp75GVHAeYex+fue3t7Gxsb/f39w8LCpkyPhBDSaDRufGLAlyAiPylwV23Oc+9RACA2ahyzWCwNDQ2BgYFJSUnOBBimUqmWLl2KH8DtLil+WHj2ZvLKqlB1+/vfv1Wiz1RdFarG//BQ0/5+nnBByJFky+F3RzhOKCa+VhTvezN5JUeSHEni+oWSuEznmdO3/3FrVai6KWOjnaZxZ3Ax81vfvwyjz1Tdcvhd81t7xcXGHgUA7iQ8ufjo0aMvv/yypqbGZrPxPG+xWIxGo8Vicenxx0cXzt/alP7MYnlmsdzZ+f3KXMEzi+Xevj3PLBbWbKYOHRxmWbzLowvnxTUIv4oracs/Ki7G8/wwy1KHDgpNtOUf7f1hXTDP873VVff27RGaaMs/ijfWrUrAuzi0C4BEnB2snKfeuStAqRzhuMCwMLyFI8k7O7fZOjsRQvL4BIQQ/pOtszMwLGzg1q1Fr//S+frtNH33n3dYGxtwPRPtO9jeNn9tCn4HRsjKpIFbt/BQtnDLVrxeWL1t+0wOEwAn/XitqFar4+Pjnz59evPmzcHBQaVSmZqaqlQqZ9jACMd9d/LDxTkHXunqXtV8F7+/xZcgFmze0l9fZ+vsDNQsmmiRvB9B+M8PaVi/tipUbXvQtXDLVoTQg9/9dv6aV17p6l5NtSl+vmGG3QNAaqPux1QqVUJCgs1mq6urGxoacmMzsqXLEEL0XyoHf5ixDHp5xeD9+73Xr8mTkibay9bZ6ScPWU21vdLVHflJgfBiJll4OELI+k0jc/UrcfnB9jZxi31f/w2PXT2lf/SXy31hVgN4guPcPc65vnjxYufnPKZogCDUO3bh2Qh7z2PhPWQBSiVC6PGfy4NeXoG34CkK6kAOdSAHz44EhoUNW/tNy5eJpy5eyvqn7z76r6pQ9ZOKz8TjmLAdT2bMX70mcFEo3tf2oGtxzgG3HA4ArvLq9WN9pure/7269N9+gxCy0zT56/3a3P9w/u1LAHgDr44x8fQGQijmT3+eP6034wLgQV4dYwDMAd71vCIAcw/kXAdAWnCtCIC04FoRAGlBjAEgLYgxAKQFMQaAtCDnugu8J+e6R9TW1k6ScwNMBHKuz+Kc60M0Te7bOyRaaeqg50KxOOH6RHCe2+ZNG8VVDdF086aN4nS4uEsOnx6YEuRcd4H35Fx3o35TdefHH0b+T2GAYup1TLt3766srIS3nrgEcq7PvpzrIxxH7ttr0qjroqOEtUI4KZlJo8bDER6aWt7OaXk7x6RR4zRlCKF+UzUuJqRsD1m9JuJMgV/QPIdP3pcg5sXGBSxYKN6IE6lNIwvhT9rYpdGQc93Lc6635x3tLj7P87zdYjH/ao999PsgxDnXu4vP45JjOezLms13d2y3O/FqCUhf5irIuT4+r825PkTTtgddyrR0h+09F4rx6HRHv3WypkmyIWmlwxjoEpVKJZfLp7HjTxbkXHcPz+Zc50iyu+gPf3/9ayIiot9U3Xv16rjFRjiu8+MPw94+8NIvtg/RdOuRf59GW64eKYCc6wjNqpzr+K6MvfctQuhBwW+FsShAqQpQqUY4rvtckbj84P37DjXgpej0lcrpjWMdHR3CkQJnQM71WZZz3Zcg1Dt33dFvNWnU8+LicMAIOde/SV0bHJ8gFFampfdVVwlzHuJ9hfc+4KvHb1LXMn/9qi46qiM/b6KmEUIMw1RWVsbHx09SBjjw6ufua2trjUbjwYMHEUIMw7zzzjuHDx+e8ymhS0tLW1tb8VF7G4PBoNVqJ7lBBWN59bNUkHPdq+AuQYC5yqvHMQDmAK8exwCYAyDGAJAWxBgA0oIYA0BaEGMASAtiDABpQYwBIC1vz7kOCdHBbOddOdc91QQA0nFnznUhezreLvxqp+mmjI1CzvURjms5/C5elosQEn4d4TicDd0h7TqChOhgVhNWa8485/ozi6Ut/+gwy+L0573VVfjXe/v24GzoQg71705+zJrNuICQiF3Iqi7eBYDZzs1zHrYHXbauTtuDLrvlCUJIFh4+zHEIIZwsM0CpnBcV9ezJ4+EB67Mnj611dQihEY4LXBSKEBqyWkNWJiGEfAli/toUceJZAGavHy8I1Wq1v7//rVu3bt68mZCQgHOuu1SXH0H4yUOefnv3xZRUe3e3vbs76O+ixy0pCw9n/++O37ygF9QvWRvr/YLlfnDHBeYod+Zc9yUIf7l88H6rPCFx+CnbU16GEPITrdvlSLK36usXFiyULV1mbWyQabWBS5b2lFwYHrDiffvr6xBCdpruPleE07QDMNu5Oee6LDyc/kulv0olT0qyP3n8woKFvgSx+Ndvk9n7q0LVDevXLvtNLhER8cKChf11N3yJoKCXVwz19srCwxFCi/b8qvtcUVWo+kZslHrnLkhLC+YGWD8GgLTgOQ8ApAUxBoC0IMYAkBbkXAdAWjDnAYC04FoRAGlBjAEgrenHmI+Pjxv7AcBcBeMYANKCGANAWo4x9oe/2ahHwx7pCgBz0qgYsw7ypTX2PYVsUweEGQDuMSrG5DKfs28GKYN99v+eNZEur20BAIzleK34s/m+n/5y3tKFvu+cZ7+6bfdInwCYS2DOAwBpOS7EfNQ38q+/Z7v7+P/cEbQ6YjrLNAEAYqOiyDrI7/5vlnvGn/6XoLglfp7qEwBzyagYk8t8sv4hYE2E//KfQYAB4B7Tf+7exwee2Qdgav8P8GJIa6G7JKgAAAAASUVORK5CYII=)

getAttribute这个方法的浏览器兼容性有问题，在有些浏览器上面可能会获取属性Property的值，使用之前需要做兼容性测试：

```
navi.className='test';
navi.getAttribute('className') === navi.className ? false : true  //返回false表示兼容性有问题，true表示正常
```

### Attribute赋值

通过setAttribute给DOM对象的Attribute(标准和自定义的都可以)赋值，只能附字符串类型的值，赋值之后会立即反映到DOM元素上,若是标准Attribute还会被转为property。

### Property取值

通过`.`语法取DOM对象属性值。注意class特性被转为Property时，会被转为`className`,需要通过`.className`去获取。

### Property赋值

同样通过`.`语法设置DOM对象属性值，这里可以赋任何类型的值，不像Attribute只能赋字符串类型的值。属性赋值在IE6中如果形成循环引用，会造成内存泄漏。

## 内联样式和事件绑定

同id, class, title一样，style和onclick也具有两面性。但是不同之处在于，用getAttribute获取的是一个字符串，而用`.`语法获取的是个对象。

由于Attribute和Property的存储的数据结构不一样，导致返回的结果一个字符串类型一个是Object类型

